/*!  2015-08-01 */
function Carousel(a){this.numBgImages=6,this.currentBgImage=1,this.element=a,this.people=[],this.currentIndex=0,this.isAnimating=!1,this.populate=function(a,b){$.each(a,function(a,c){var d=new Person(c.name,c.desc,c.thanks);b.push(d)})},this.slideLeft=function(){0===this.currentIndex?this.currentIndex=this.people.length-1:this.currentIndex-=1,this.transition(-1)},this.slideRight=function(){this.currentIndex===this.people.length-1?this.currentIndex=0:this.currentIndex+=1,this.transition(1)},this.transition=function(a){this.currentBgImage+=a,this.currentBgImage>this.numBgImages?this.currentBgImage=1:this.currentBgImage<1&&(this.currentBgImage=this.numBgImages);var b=this.element.find(".current-slide"),c=this.currentBgImage,d=this.people[this.currentIndex];b.fadeOut(500,function(){$(this).find(".student-name").text(d.name),$(this).find(".student-desc").text(d.desc),$(this).find(".student-thanks").text(d.thanks),b.css("background-image","url(assets/images/bg"+c+".jpg")}),this.updateSlider(),b.fadeIn(500)},this.updateSlider=function(){var a=$(".position-wrapper").width(),b=Math.round(a/22),c=this.currentIndex;$(".position-indicator").animate({left:c*b},500),this.isAnimating=!1}}function Person(a,b,c){this.name=a,this.desc=b,this.thanks=c}$(document).ready(function(){var a=void 0;$.ajax({type:"GET",url:"/prime",success:function(b){a=new Carousel($(".carousel")),a.populate(b,a.people)},error:function(){alert("Stuff is on fire yo")}}),$("#leftButton").on("click",function(){a.isAnimating||(a.isAnimating=!0,a.slideLeft())}),$("#rightButton").on("click",function(){a.isAnimating||(a.isAnimating=!0,a.slideRight())})});